# 定时任务配置
# 这个文件定义了默认的定时任务，用户可以通过界面修改触发器参数
# 修改后会自动保存到数据库，重启应用时会从数据库加载，不会重置

default_tasks:
  - id: sync_accounts
    name: 账户同步
    function: sync_accounts
    trigger_type: interval
    trigger_params:
      minutes: 30
    enabled: true
    description: 同步所有数据库实例的账户信息
    
  - id: cleanup_logs
    name: 清理旧日志
    function: cleanup_old_logs
    trigger_type: cron
    trigger_params:
      hour: 2
      minute: 0
    enabled: true
    description: 清理30天前的日志和临时文件
    
  - id: create_database_size_partitions
    name: 创建数据库大小分区
    function: create_database_size_partitions
    trigger_type: cron
    trigger_params:
      hour: 2
      minute: 0
    enabled: true
    description: 创建数据库大小统计表的未来分区
    
  - id: cleanup_database_size_partitions
    name: 清理数据库大小分区
    function: cleanup_database_size_partitions
    trigger_type: cron
    trigger_params:
      hour: 3
      minute: 0
    enabled: true
    description: 清理数据库大小统计表的旧分区
    
  - id: monitor_partition_health
    name: 监控分区健康状态
    function: monitor_partition_health
    trigger_type: interval
    trigger_params:
      minutes: 60
    enabled: true
    description: 监控分区健康状态和性能
    
  - id: collect_database_sizes
    name: 容量同步
    function: collect_database_sizes
    trigger_type: cron
    trigger_params:
      hour: 3
      minute: 0
    enabled: true
    description: 每日同步所有数据库实例的容量信息
    
  - id: calculate_database_size_aggregations
    name: 计算统计聚合
    function: calculate_database_size_aggregations
    trigger_type: cron
    trigger_params:
      hour: 4
      minute: 0
    enabled: true
    description: 每日计算数据库大小的周、月、季度统计聚合