# 定时任务配置
# 这个文件定义了默认的定时任务，用户可以通过界面修改触发器参数
# 修改后会自动保存到数据库，重启应用时会从数据库加载，不会重置

default_tasks:
  - id: sync_accounts
    name: 账户同步
    function: sync_accounts
    trigger_type: cron
    trigger_params:
      second: 0
      minute: 0
      hour: 1
      day: '*'
      month: '*'
      day_of_week: '*'
    enabled: true
    description: 每日同步所有数据库实例的账户信息

  - id: cleanup_logs
    name: 清理旧日志
    function: cleanup_old_logs
    trigger_type: cron
    trigger_params:
      second: 0
      minute: 0
      hour: 2
      day: '*'
      month: '*'
      day_of_week: '*'
    enabled: true
    description: 清理30天前的日志和临时文件


  - id: monitor_partition_health
    name: 监控分区健康状态
    function: monitor_partition_health
    trigger_type: cron
    trigger_params:
      second: 0
      minute: 30
      hour: 0
      day: '*'
      month: '*'
      day_of_week: '*'
    enabled: true
    description: 每日监控分区健康状态和性能

  - id: collect_database_sizes
    name: 容量同步
    function: collect_database_sizes
    trigger_type: cron
    trigger_params:
      second: 0
      minute: 0
      hour: 3
      day: '*'
      month: '*'
      day_of_week: '*'
    enabled: true
    description: 每日同步所有数据库实例的容量信息

  - id: calculate_database_size_aggregations
    name: 统计聚合
    function: calculate_database_size_aggregations
    trigger_type: cron
    trigger_params:
      second: 0
      minute: 0
      hour: 4
      day: '*'
      month: '*'
      day_of_week: '*'
    enabled: true
    description: 每日计算数据库大小的日、周、月、季度统计聚合
